# QuickHeadlines Constitution

> Auto-generated by spec-kitty constitution command
> Created: 2026-01-24
> Version: 1.0.0

## Purpose

This constitution captures the technical standards, code quality expectations,
tribal knowledge, and governance rules for QuickHeadlines. All features and
pull requests should align with these principles.

## Technical Standards

### Languages and Frameworks
- Backend: Crystal Athena with Athena::Serializer for JSON
- Frontend: Elm Land with file-based routing and built-in layouts

### Testing Requirements
- Backend: Crystal Spec with 80% line coverage
- Frontend: Elm Test with tests for critical components
- End-to-end: Playwright for user flow testing

### Performance and Scale
- Handle 1000 requests/second at p95 < 200ms
- Support 10k concurrent users, 1M daily active users
- Frontend operations complete in < 2 seconds

### Deployment and Constraints
- Docker-only, deployed to Kubernetes
- Must run on Ubuntu 20.04 LTS without external dependencies
- Cross-platform support for development: Linux, macOS, Windows 10+

## Code Quality

### Pull Request Requirements
- 2 approvals required, 1 must be from core team
- PR must pass CI checks

### Code Review Checklist
- Tests added, docstrings updated, follows coding standards
- Type annotations present, error handling robust, performance considered
- Correctness, clarity, maintainability are primary concerns

### Quality Gates
- All tests pass, coverage â‰¥80%, linter clean, security scan clean
- CI green, no merge conflicts, PR approved

### Documentation Standards
- All public APIs must have docstrings + examples
- README updated for new features, ADRs for architectural decisions
- Inline comments for complex logic, keep docs up to date

## Tribal Knowledge

### Team Conventions
- Use Result<T, E> for fallible operations, never unwrap() in prod
- Prefer composition over inheritance, keep classes small (<200 lines)
- Use feature flags for gradual rollouts, never merge half-finished features

### Lessons Learned
- Always version APIs from day 1
- Write integration tests first
- Keep dependencies minimal - every dependency is a liability

### Historical Decisions
- Chose monorepo for atomic changes across services
- Chose Crystal Athena for type safety and performance
- Chose Elm Land for frontend standardization

## Governance

### Amendment Process
PR with 2 approvals, announce in team chat, 1 week discussion

### Compliance Validation
Code reviewers check compliance during PR review. Constitution violations
should be flagged and addressed before merge.

### Exception Handling
Exceptions discussed case-by-case with team. Strong justification required.
Consider updating constitution if exceptions become common.
